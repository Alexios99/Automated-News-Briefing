{% extends 'base.html' %}
{% block title %}View Briefings{% endblock %}
{% block content %}
<div class="container">
    <h2>All Briefings</h2>
    <p>Here you can view and download all previously generated briefings.</p>

    {% if briefings_by_date %}
        <ul class="list-group">
            {% for group_key, briefing in briefings_by_date.items() %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <div>
                        <strong>{{ briefing.name }}</strong>
                    </div>
                    <div>
                        {% if 'html' in briefing.files %}
                            <a href="{{ url_for('main.view_file', filename=briefing.files.html) }}" class="btn btn-sm btn-outline-primary">View HTML</a>
                        {% endif %}
                        {% if 'pdf' in briefing.files %}
                            <a href="{{ url_for('main.download_file', filename=briefing.files.pdf) }}" class="btn btn-sm btn-outline-success">Download PDF</a>
                        {% endif %}
                        {% if 'md' in briefing.files %}
                            <a href="{{ url_for('main.download_file', filename=briefing.files.md) }}" class="btn btn-sm btn-outline-secondary">Download MD</a>
                        {% endif %}
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <div class="alert alert-info" role="alert">
            No briefings have been generated yet.
        </div>
    {% endif %}
</div>
{% endblock %} 